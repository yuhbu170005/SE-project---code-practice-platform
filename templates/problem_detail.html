{% extends "base.html" %} {% block title %}{{ problem.title }} - LiteCode{%
endblock %} {% block body_class %}mode-immersive overflow-hidden{% endblock %}
{% block layout_wrapper %}
<div class="container-fluid p-0">
  {% block content %}

  <div class="ide-container">
    <div class="ide-left">
      <div class="ide-content">
        <h3 class="mb-2">{{ problem.title }}</h3>
        <div class="d-flex align-items-center gap-2 mb-3">
          <span class="badge-diff diff-{{ problem.difficulty }}"
            >{{ problem.difficulty }}</span
          >
          {% if tags %} {% for tag in tags[:2] %}
          <span
            class="badge bg-light text-secondary"
            style="
              font-weight: 600;
              font-size: 12px;
              padding: 4px 12px;
              border-radius: 12px;
            "
            >{{ tag }}</span
          >
          {% endfor %} {% if tags|length > 2 %}
          <span
            class="badge bg-light text-secondary"
            style="
              font-weight: 600;
              font-size: 12px;
              padding: 4px 10px;
              border-radius: 12px;
              cursor: pointer;
            "
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            data-bs-html="true"
            data-bs-title="{{ tags[2:] | join(', ') }}"
            >+{{ tags|length - 2 }}</span
          >
          {% endif %} {% endif %}
        </div>

        <div
          class="mb-4 markdown-content"
          style="line-height: 1.6; color: #333"
        >
          {{ problem.description | safe }}
        </div>

        {% for case in sample_cases %}
        <div class="mb-3">
          <h6 class="fw-bold text-secondary small">
            Example {{ loop.index }}:
          </h6>
          <div class="code-box">
            <strong>Input:</strong> <br />{{ case.input }}<br />
            <strong class="d-block mt-2">Output:</strong> {{
            case.expected_output }}
          </div>
        </div>
        {% endfor %}

        <div class="mt-4">
          <h6 class="fw-bold text-secondary small">Constraints:</h6>
          <ul class="text-secondary small ps-3">
            <li>Time Limit: {{ problem.time_limit }}ms</li>
            <li>Memory Limit: {{ problem.memory_limit }}MB</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="ide-right">
      <div
        class="d-flex align-items-center justify-content-between p-2 border-bottom bg-light"
        style="height: 40px"
      >
        <select
          id="language-select"
          class="form-select form-select-sm w-auto shadow-none border-0 bg-transparent fw-bold"
        >
          <option value="python">Python 3</option>
          <option value="java">Java</option>
          <option value="cpp">C++</option>
          <option value="javascript">JavaScript</option>
        </select>
      </div>

      <div class="editor-area">
        <div id="monaco-editor" style="width: 100%; height: 100%"></div>
      </div>

      <div class="bottom-panel">
        <div class="panel-tabs">
          <button
            class="panel-tab active"
            onclick="switchResultTab('testcase')"
          >
            <i class="fas fa-check-square me-1"></i> Test Cases
          </button>
          <button
            class="panel-tab"
            id="tab-result"
            onclick="switchResultTab('result')"
          >
            <i class="fas fa-terminal me-1"></i> Result
          </button>

          <div class="ms-auto p-1 d-flex gap-2">
            <button id="btn-run" class="btn btn-sm btn-outline-secondary px-3">
              Run
            </button>
            <button id="btn-submit" class="btn btn-sm btn-success px-3">
              Submit
            </button>
          </div>
        </div>

        <div id="view-testcase" class="p-3 h-100 overflow-auto">
          <div class="d-flex mb-3">
            {% for case in test_cases %}
            <button
              class="case-btn btn btn-sm btn-light border me-2 {% if loop.first %}active border-primary text-primary{% endif %}"
              onclick="showCase({{ loop.index0 }})"
              id="btn-case-{{ loop.index0 }}"
            >
              Case {{ loop.index }}
            </button>
            {% endfor %}
          </div>

          {% for case in test_cases %}
          <div
            id="case-content-{{ loop.index0 }}"
            class="{% if not loop.first %}d-none{% endif %}"
          >
            <small class="text-secondary fw-bold text-uppercase">Input:</small>
            <div class="code-box mb-2">{{ case.input }}</div>
            <small class="text-secondary fw-bold text-uppercase"
              >Expected Output:</small
            >
            <div class="code-box">{{ case.expected_output }}</div>
          </div>
          {% endfor %}
        </div>

        <div id="view-result" class="p-3 h-100 overflow-auto d-none">
          <div id="result-output" class="text-center text-secondary mt-4">
            <i class="fas fa-play me-2"></i> Run code to see results...
          </div>
        </div>
      </div>
    </div>
  </div>
  {% endblock %}
</div>
{% endblock %} {% block extra_js %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.36.1/min/vs/loader.min.js"></script>
<div id="problem-data" data-problem-id="{{ problem.problem_id }}" data-starter-code="{{ starter_code | tojson | safe }}" data-function-name="{{ function_name }}" style="display: none;"></div>
<script src="{{ url_for('static', filename='js/problem_detail.js') }}"></script>
{% endblock %}
